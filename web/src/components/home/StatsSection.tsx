/**
 * HASIVU Platform - Statistics Section Component
 * Displays key platform metrics and achievements
 * Generated by SuperClaude QA Validation
 */

import React from 'react';
import {
  Box,
  Typography,
  Container,
  Grid,
  alpha,
} from '@mui/material';

/**
 * Stat Item Interface
 */
interface StatItem {
  /** Statistic value */
  value: string;
  /** Statistic label */
  label: string;
  /** Optional suffix */
  suffix?: string;
  /** Optional icon */
  icon?: React.ReactNode;
}

/**
 * Stats Section Props
 */
export interface StatsSectionProps {
  /** Section title */
  title?: string;
  /** Section subtitle */
  subtitle?: string;
  /** Statistics data */
  stats?: StatItem[];
  /** Background variant */
  variant?: 'default' | 'accent';
}

/**
 * Default statistics data
 */
const defaultStats: StatItem[] = [
  {
    value: '50',
    suffix: '+',
    label: 'Partner Schools',
  },
  {
    value: '10000',
    suffix: '+',
    label: 'Happy Students',
  },
  {
    value: '25000',
    suffix: '+',
    label: 'Meals Delivered',
  },
  {
    value: '99.9',
    suffix: '%',
    label: 'Delivery Success',
  },
];

/**
 * Stat Item Component
 */
const StatItem: React.FC<{ stat: StatItem }> = ({ stat }) => {
  return (
    <Box sx={{ textAlign: 'center' }}>
      <Typography
        variant="h2"
        component="div"
        sx={{
          fontWeight: 700,
          fontSize: { xs: '2.5rem', md: '3.5rem' },
          lineHeight: 1,
          mb: 1,
          background: 'linear-gradient(45deg, #4CAF50 30%, #2E7D32 90%)',
          WebkitBackgroundClip: 'text',
          WebkitTextFillColor: 'transparent',
          backgroundClip: 'text',
        }}
      >
        {stat.value}
        {stat.suffix && (
          <Box
            component="span"
            sx={{ 
              fontSize: '0.7em',
              verticalAlign: 'top',
              ml: 0.5,
            }}
          >
            {stat.suffix}
          </Box>
        )}
      </Typography>
      
      <Typography
        variant="subtitle1"
        sx={{
          color: 'text.secondary',
          fontWeight: 500,
          fontSize: { xs: '0.9rem', md: '1rem' },
          textTransform: 'uppercase',
          letterSpacing: '0.5px',
        }}
      >
        {stat.label}
      </Typography>
    </Box>
  );
};

/**
 * Statistics Section Component
 */
export const StatsSection: React.FC<StatsSectionProps> = ({
  title = "Platform Impact",
  subtitle = "Numbers that showcase our commitment to improving school food delivery experiences.",
  stats = defaultStats,
  variant = 'default',
}) => {
  const isAccent = variant === 'accent';

  return (
    <Box
      sx={{
        py: { xs: 8, md: 12 },
        bgcolor: isAccent ? alpha('#F1F8E9', 0.5) : 'background.default',
        position: 'relative',
        overflow: 'hidden',
      }}
    >
      {/* Background decoration */}
      <Box
        sx={{
          position: 'absolute',
          top: 0,
          left: 0,
          right: 0,
          bottom: 0,
          opacity: 0.03,
          background: `
            radial-gradient(circle at 20% 80%, ${alpha('#4CAF50', 0.3)} 0%, transparent 50%),
            radial-gradient(circle at 80% 20%, ${alpha('#2E7D32', 0.3)} 0%, transparent 50%)
          `,
          zIndex: 1,
        }}
      />

      <Container maxWidth="lg" sx={{ position: 'relative', zIndex: 2 }}>
        {/* Section Header */}
        <Box sx={{ textAlign: 'center', mb: 8 }}>
          <Typography
            variant="h2"
            component="h2"
            sx={{
              fontSize: { xs: '2rem', md: '2.5rem' },
              fontWeight: 600,
              fontFamily: 'Poppins, sans-serif',
              color: 'text.primary',
              mb: 2,
            }}
          >
            {title}
          </Typography>
          
          <Typography
            variant="h6"
            sx={{
              color: 'text.secondary',
              fontWeight: 400,
              maxWidth: '600px',
              mx: 'auto',
              lineHeight: 1.6,
            }}
          >
            {subtitle}
          </Typography>
        </Box>

        {/* Statistics Grid */}
        <Grid container spacing={4}>
          {stats.map((stat, index) => (
            <Grid item xs={6} md={3} key={index}>
              <Box
                sx={{
                  p: 3,
                  borderRadius: 2,
                  background: 'background.paper',
                  border: '1px solid',
                  borderColor: alpha('#E0E0E0', 0.5),
                  transition: 'all 0.3s ease-in-out',
                  '&:hover': {
                    transform: 'translateY(-4px)',
                    boxShadow: (theme) => `0 8px 24px ${alpha(theme.palette.primary.main, 0.1)}`,
                    borderColor: alpha('#4CAF50', 0.3),
                  },
                }}
              >
                <StatItem stat={stat} />
              </Box>
            </Grid>
          ))}
        </Grid>

        {/* Additional info */}
        <Box sx={{ textAlign: 'center', mt: 6 }}>
          <Typography
            variant="body2"
            sx={{
              color: 'text.secondary',
              fontStyle: 'italic',
            }}
          >
            * Statistics updated as of {new Date().toLocaleDateString('en-US', { 
              month: 'long', 
              year: 'numeric' 
            })}
          </Typography>
        </Box>
      </Container>
    </Box>
  );
};

export default StatsSection;