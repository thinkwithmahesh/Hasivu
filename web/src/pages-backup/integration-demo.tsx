/**\n * HASIVU Platform - Integration Demo Page\n * Demonstrates complete API integration with all ShadCN components\n */\n\n'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { NextPage } from 'next';\nimport Head from 'next/head';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Separator } from '@/components/ui/separator';\nimport { Alert, AlertDescription, AlertTitle } from '@/components/ui/alert';\nimport {\n  Activity,\n  ShoppingCart,\n  BarChart3,\n  Radio,\n  Bell,\n  Wifi,\n  CheckCircle,\n  AlertTriangle,\n  Info\n} from 'lucide-react';\n\n// Import our enhanced components\nimport { OrderCard } from '@/components/enhanced/OrderCard';\nimport { MealOrderingForm } from '@/components/enhanced/MealOrderingForm';\nimport { RealTimeDashboard } from '@/components/enhanced/RealTimeDashboard';\nimport { RFIDVerificationPanel } from '@/components/enhanced/RFIDVerificationPanel';\n\n// Import hooks\nimport { useAuth, useOrders, useConnectionStatus, useNotifications } from '@/hooks/useApiIntegration';\nimport { toast } from 'react-hot-toast';\n\nconst IntegrationDemoPage: NextPage = () => {\n  const { user, authenticated } = useAuth();\n  const { orders, loading: ordersLoading } = useOrders({ limit: 5 });\n  const { notifications, loading: notificationsLoading } = useNotifications();\n  const connectionStatus = useConnectionStatus();\n  \n  const [activeTab, setActiveTab] = useState('overview');\n  const [demoStats, setDemoStats] = useState({\n    totalOrders: 142,\n    activeUsers: 89,\n    realTimeEvents: 15,\n    systemHealth: 98.5,\n  });\n  \n  useEffect(() => {\n    // Simulate real-time stats updates\n    const interval = setInterval(() => {\n      setDemoStats(prev => ({\n        ...prev,\n        realTimeEvents: prev.realTimeEvents + Math.floor(Math.random() * 3),\n        activeUsers: prev.activeUsers + Math.floor(Math.random() * 5) - 2,\n      }));\n    }, 5000);\n    \n    return () => clearInterval(interval);\n  }, []);\n  \n  const handleOrderComplete = (orderId: string) => {\n    toast.success(`Order ${orderId.slice(-8)} placed successfully!`);\n    // In a real app, this would trigger a refetch of orders\n  };\n  \n  const handleOrderUpdate = (order: any) => {\n    // Handle real-time order updates\n    console.log('Order updated:', order);\n  };\n  \n  const handleRFIDVerification = (result: any) => {\n    if (result.verified) {\n      toast.success(`RFID verified for ${result.studentName}`);\n    } else {\n      toast.error('RFID verification failed');\n    }\n  };\n  \n  return (\n    <>\n      <Head>\n        <title>HASIVU Platform - Integration Demo</title>\n        <meta name=\"description\" content=\"Complete API integration demonstration with ShadCN components\" />\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n      </Head>\n      \n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100\">\n        <div className=\"container mx-auto px-4 py-8\">\n          {/* Header */}\n          <div className=\"mb-8\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <div>\n                <h1 className=\"text-4xl font-bold text-gray-900\">\n                  HASIVU Integration Demo\n                </h1>\n                <p className=\"text-lg text-gray-600 mt-2\">\n                  Complete ShadCN + API integration showcase\n                </p>\n              </div>\n              \n              {/* Connection Status */}\n              <div className=\"flex items-center space-x-4\">\n                <div className=\"flex items-center space-x-2\">\n                  {connectionStatus.isConnected ? (\n                    <>\n                      <Wifi className=\"h-5 w-5 text-green-500\" />\n                      <Badge className=\"bg-green-100 text-green-800\">\n                        Connected\n                      </Badge>\n                    </>\n                  ) : (\n                    <>\n                      <Wifi className=\"h-5 w-5 text-red-500\" />\n                      <Badge variant=\"destructive\">\n                        Disconnected\n                      </Badge>\n                    </>\n                  )}\n                </div>\n                \n                {authenticated && user && (\n                  <div className=\"text-sm text-gray-600\">\n                    Welcome, {user.firstName}!\n                  </div>\n                )}\n              </div>\n            </div>\n            \n            {/* Integration Status */}\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n              <Card>\n                <CardHeader className=\"pb-3\">\n                  <CardTitle className=\"text-sm font-medium flex items-center\">\n                    <Activity className=\"mr-2 h-4 w-4\" />\n                    Real-time Events\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"text-2xl font-bold\">{demoStats.realTimeEvents}</div>\n                  <p className=\"text-xs text-gray-600\">Live updates</p>\n                </CardContent>\n              </Card>\n              \n              <Card>\n                <CardHeader className=\"pb-3\">\n                  <CardTitle className=\"text-sm font-medium flex items-center\">\n                    <ShoppingCart className=\"mr-2 h-4 w-4\" />\n                    Total Orders\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"text-2xl font-bold\">{demoStats.totalOrders}</div>\n                  <p className=\"text-xs text-gray-600\">Platform wide</p>\n                </CardContent>\n              </Card>\n              \n              <Card>\n                <CardHeader className=\"pb-3\">\n                  <CardTitle className=\"text-sm font-medium flex items-center\">\n                    <BarChart3 className=\"mr-2 h-4 w-4\" />\n                    Active Users\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"text-2xl font-bold\">{demoStats.activeUsers}</div>\n                  <p className=\"text-xs text-gray-600\">Currently online</p>\n                </CardContent>\n              </Card>\n              \n              <Card>\n                <CardHeader className=\"pb-3\">\n                  <CardTitle className=\"text-sm font-medium flex items-center\">\n                    <CheckCircle className=\"mr-2 h-4 w-4\" />\n                    System Health\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"text-2xl font-bold\">{demoStats.systemHealth}%</div>\n                  <p className=\"text-xs text-gray-600\">All systems operational</p>\n                </CardContent>\n              </Card>\n            </div>\n          </div>\n          \n          {/* Integration Demo Tabs */}\n          <Tabs value={activeTab} onValueChange={setActiveTab} className=\"space-y-6\">\n            <TabsList className=\"grid w-full grid-cols-5\">\n              <TabsTrigger value=\"overview\">Overview</TabsTrigger>\n              <TabsTrigger value=\"ordering\">Meal Ordering</TabsTrigger>\n              <TabsTrigger value=\"dashboard\">Dashboard</TabsTrigger>\n              <TabsTrigger value=\"rfid\">RFID System</TabsTrigger>\n              <TabsTrigger value=\"orders\">Order Management</TabsTrigger>\n            </TabsList>\n            \n            {/* Overview Tab */}\n            <TabsContent value=\"overview\" className=\"space-y-6\">\n              <div className=\"grid gap-6 md:grid-cols-2\">\n                {/* Integration Features */}\n                <Card>\n                  <CardHeader>\n                    <CardTitle>ðŸš€ Integration Features</CardTitle>\n                    <CardDescription>\n                      Complete API integration capabilities demonstrated\n                    </CardDescription>\n                  </CardHeader>\n                  <CardContent className=\"space-y-4\">\n                    <div className=\"flex items-center space-x-2\">\n                      <CheckCircle className=\"h-4 w-4 text-green-500\" />\n                      <span className=\"text-sm\">Real-time WebSocket connections</span>\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <CheckCircle className=\"h-4 w-4 text-green-500\" />\n                      <span className=\"text-sm\">Optimistic UI updates</span>\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <CheckCircle className=\"h-4 w-4 text-green-500\" />\n                      <span className=\"text-sm\">Automatic token refresh</span>\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <CheckCircle className=\"h-4 w-4 text-green-500\" />\n                      <span className=\"text-sm\">Error handling & retry logic</span>\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <CheckCircle className=\"h-4 w-4 text-green-500\" />\n                      <span className=\"text-sm\">Offline-first capabilities</span>\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <CheckCircle className=\"h-4 w-4 text-green-500\" />\n                      <span className=\"text-sm\">Component-level state management</span>\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <CheckCircle className=\"h-4 w-4 text-green-500\" />\n                      <span className=\"text-sm\">File upload with progress tracking</span>\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <CheckCircle className=\"h-4 w-4 text-green-500\" />\n                      <span className=\"text-sm\">Caching & performance optimization</span>\n                    </div>\n                  </CardContent>\n                </Card>\n                \n                {/* API Endpoints */}\n                <Card>\n                  <CardHeader>\n                    <CardTitle>ðŸ”— API Endpoints Integrated</CardTitle>\n                    <CardDescription>\n                      All major backend services connected\n                    </CardDescription>\n                  </CardHeader>\n                  <CardContent className=\"space-y-4\">\n                    <div className=\"grid grid-cols-2 gap-2 text-sm\">\n                      <Badge variant=\"outline\">Authentication</Badge>\n                      <Badge variant=\"outline\">User Management</Badge>\n                      <Badge variant=\"outline\">Meal Ordering</Badge>\n                      <Badge variant=\"outline\">Order Tracking</Badge>\n                      <Badge variant=\"outline\">Payment Processing</Badge>\n                      <Badge variant=\"outline\">RFID Verification</Badge>\n                      <Badge variant=\"outline\">Notifications</Badge>\n                      <Badge variant=\"outline\">Analytics</Badge>\n                      <Badge variant=\"outline\">File Uploads</Badge>\n                      <Badge variant=\"outline\">Real-time Updates</Badge>\n                    </div>\n                  </CardContent>\n                </Card>\n              </div>\n              \n              {/* Recent Activity */}\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"flex items-center\">\n                    <Bell className=\"mr-2 h-5 w-5\" />\n                    Recent Activity & Notifications\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  {notificationsLoading ? (\n                    <div className=\"space-y-3\">\n                      {[...Array(3)].map((_, i) => (\n                        <div key={i} className=\"h-12 bg-gray-100 rounded animate-pulse\" />\n                      ))}\n                    </div>\n                  ) : notifications && notifications.length > 0 ? (\n                    <div className=\"space-y-3\">\n                      {notifications.slice(0, 5).map((notification: any) => (\n                        <Alert key={notification.id}>\n                          <Info className=\"h-4 w-4\" />\n                          <AlertTitle>{notification.title}</AlertTitle>\n                          <AlertDescription className=\"text-sm\">\n                            {notification.message}\n                          </AlertDescription>\n                        </Alert>\n                      ))}\n                    </div>\n                  ) : (\n                    <p className=\"text-sm text-gray-500 text-center py-4\">\n                      No recent notifications\n                    </p>\n                  )}\n                </CardContent>\n              </Card>\n            </TabsContent>\n            \n            {/* Meal Ordering Tab */}\n            <TabsContent value=\"ordering\" className=\"space-y-6\">\n              <Alert>\n                <Info className=\"h-4 w-4\" />\n                <AlertTitle>Live Meal Ordering System</AlertTitle>\n                <AlertDescription>\n                  This component demonstrates real-time menu updates, cart management, \n                  optimistic UI updates, and complete order flow integration.\n                </AlertDescription>\n              </Alert>\n              \n              <MealOrderingForm \n                onOrderComplete={handleOrderComplete}\n                className=\"w-full\"\n              />\n            </TabsContent>\n            \n            {/* Dashboard Tab */}\n            <TabsContent value=\"dashboard\" className=\"space-y-6\">\n              <Alert>\n                <BarChart3 className=\"h-4 w-4\" />\n                <AlertTitle>Real-time Analytics Dashboard</AlertTitle>\n                <AlertDescription>\n                  Live dashboard with WebSocket integration, real-time charts, \n                  and comprehensive analytics from multiple data sources.\n                </AlertDescription>\n              </Alert>\n              \n              <RealTimeDashboard \n                userRole={user?.role || 'admin'}\n                className=\"w-full\"\n              />\n            </TabsContent>\n            \n            {/* RFID Tab */}\n            <TabsContent value=\"rfid\" className=\"space-y-6\">\n              <Alert>\n                <Radio className=\"h-4 w-4\" />\n                <AlertTitle>RFID Verification System</AlertTitle>\n                <AlertDescription>\n                  Real-time RFID scanning, verification, and card management \n                  with live device status monitoring.\n                </AlertDescription>\n              </Alert>\n              \n              <RFIDVerificationPanel \n                mode=\"verification\"\n                onVerificationComplete={handleRFIDVerification}\n                className=\"w-full\"\n              />\n            </TabsContent>\n            \n            {/* Orders Tab */}\n            <TabsContent value=\"orders\" className=\"space-y-6\">\n              <Alert>\n                <ShoppingCart className=\"h-4 w-4\" />\n                <AlertTitle>Order Management System</AlertTitle>\n                <AlertDescription>\n                  Real-time order tracking, status updates, and comprehensive \n                  order management with WebSocket integration.\n                </AlertDescription>\n              </Alert>\n              \n              <div className=\"space-y-6\">\n                {ordersLoading ? (\n                  <div className=\"space-y-4\">\n                    {[...Array(3)].map((_, i) => (\n                      <div key={i} className=\"h-64 bg-gray-100 rounded animate-pulse\" />\n                    ))}\n                  </div>\n                ) : orders && orders.length > 0 ? (\n                  <div className=\"space-y-4\">\n                    {orders.map((order: any) => (\n                      <OrderCard\n                        key={order.id}\n                        order={order}\n                        onOrderUpdate={handleOrderUpdate}\n                        showActions={true}\n                        className=\"w-full\"\n                      />\n                    ))}\n                  </div>\n                ) : (\n                  <Card>\n                    <CardContent className=\"flex items-center justify-center py-12\">\n                      <div className=\"text-center\">\n                        <ShoppingCart className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n                        <h3 className=\"text-lg font-semibold mb-2\">No Orders Found</h3>\n                        <p className=\"text-gray-600\">\n                          Place an order using the Meal Ordering tab to see it here\n                        </p>\n                        <Button \n                          onClick={() => setActiveTab('ordering')}\n                          className=\"mt-4\"\n                        >\n                          Order Meals\n                        </Button>\n                      </div>\n                    </CardContent>\n                  </Card>\n                )}\n              </div>\n            </TabsContent>\n          </Tabs>\n          \n          {/* Footer */}\n          <Separator className=\"my-8\" />\n          <div className=\"text-center text-sm text-gray-500\">\n            <p>\n              HASIVU Platform Integration Demo â€¢ \n              Powered by Next.js, ShadCN UI, and comprehensive API integration\n            </p>\n            <p className=\"mt-2\">\n              Features: Real-time updates â€¢ Optimistic UI â€¢ Offline support â€¢ \n              Error handling â€¢ Performance optimization\n            </p>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default IntegrationDemoPage;