"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5700],{7564:function(t,e,n){n.d(e,{Am:function(){return u},LE:function(){return i},uy:function(){return o}});var r=n(57437);n(2265);var s=n(22703),o=function(t){var e=t.children,n=t.className,o=t.as,i=void 0===o?"span":o;return(0,r.jsx)(i,{className:(0,s.cn)("sr-only","absolute w-px h-px p-0 -m-px overflow-hidden whitespace-nowrap border-0","clip-path-[inset(50%)]",n),style:{clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)"},children:e})},i=function(t){var e=t.children,n=t.politeness,o=t.atomic,i=t.relevant,u=t.className;return(0,r.jsx)("div",{className:(0,s.cn)("sr-only",u),"aria-live":void 0===n?"polite":n,"aria-atomic":void 0!==o&&o,"aria-relevant":void 0===i?"additions text":i,role:"status",children:e})},u=function(t){var e=t.message,n=t.type,s=void 0===n?"status":n,o=t.show;return(void 0===o||o)&&e?(0,r.jsx)("div",{className:"sr-only",role:s,"aria-live":"alert"===s?"assertive":"polite","aria-atomic":"true",children:e}):null}},42588:function(t,e,n){var r,s=n(45610),o=n(86335),i=n(41369),u=n(43654),c=n(50044),a=new(function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http://localhost:3000/api";(0,o._)(this,t),this.accessToken=null,this.csrfToken=null,this.baseURL=e,this.accessToken=this.getCookie("accessToken"),this.csrfToken=this.getCookie("csrfToken")||this.generateCSRFToken(),this.setCookie("csrfToken",this.csrfToken,{maxAge:86400,httpOnly:!1,secure:!0,sameSite:"strict"})}var e=t.prototype;return e.generateCSRFToken=function(){return Math.random().toString(36).substring(2)+Date.now().toString(36)},e.getCookie=function(t){if("undefined"==typeof document)return null;var e,n="; ".concat(document.cookie).split("; ".concat(t,"="));return 2===n.length&&(null===(e=n.pop())||void 0===e?void 0:e.split(";").shift())||null},e.setCookie=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("undefined"!=typeof document){var r="".concat(t,"=").concat(e);n.maxAge&&(r+="; max-age=".concat(n.maxAge)),!1!==n.secure&&(r+="; secure"),n.sameSite&&(r+="; samesite=".concat(n.sameSite)),document.cookie=r}},e.request=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this;return(0,s._)(function(){var r,s,o,a,h,f;return(0,c.Jh)(this,function(c){switch(c.label){case 0:r="".concat(n.baseURL).concat(t),s=(0,u._)((0,i._)({},e),{headers:(0,i._)({"Content-Type":"application/json"},e.headers)}),n.accessToken&&(s.headers=(0,u._)((0,i._)({},s.headers),{Authorization:"Bearer ".concat(n.accessToken)})),n.csrfToken&&t.startsWith("/auth/")&&("POST"===e.method||"PUT"===e.method||"PATCH"===e.method)&&(s.headers=(0,u._)((0,i._)({},s.headers),{"X-CSRF-Token":n.csrfToken})),c.label=1;case 1:return c.trys.push([1,4,,5]),[4,fetch(r,s)];case 2:if(!(a=(o=c.sent()).headers.get("content-type"))||!a.includes("application/json")){if(!o.ok)return[2,{success:!1,error:"HTTP ".concat(o.status,": ").concat(o.statusText)}];return[2,{success:!0}]}return[4,o.json()];case 3:if(h=c.sent(),!o.ok)return[2,(0,i._)({success:!1,error:h.message||h.error||"HTTP ".concat(o.status)},h)];return[2,(0,i._)({success:!0},h)];case 4:return[2,{success:!1,error:(f=c.sent())instanceof Error?f.message:"Network error"}];case 5:return[2]}})})()},e.setToken=function(t){this.accessToken=t,this.setCookie("accessToken",t,{maxAge:900,httpOnly:!1,secure:!0,sameSite:"strict"})},e.clearToken=function(){this.accessToken=null,this.setCookie("accessToken","",{maxAge:0}),this.setCookie("refreshToken","",{maxAge:0}),this.setCookie("csrfToken","",{maxAge:0})},e.login=function(t){var e=this;return(0,s._)(function(){var n,r,s;return(0,c.Jh)(this,function(o){switch(o.label){case 0:return[4,e.request("/auth/login",{method:"POST",body:JSON.stringify(t)})];case 1:return(s=o.sent()).success&&(null===(r=s.data)||void 0===r?void 0:null===(n=r.tokens)||void 0===n?void 0:n.accessToken)&&(e.setToken(s.data.tokens.accessToken),s.data.tokens.refreshToken&&e.setCookie("refreshToken",s.data.tokens.refreshToken,{maxAge:604800,httpOnly:!1,secure:!0,sameSite:"strict"})),[2,s]}})})()},e.register=function(t){var e=this;return(0,s._)(function(){return(0,c.Jh)(this,function(n){return[2,e.request("/auth/register",{method:"POST",body:JSON.stringify(t)})]})})()},e.logout=function(){var t=this;return(0,s._)(function(){var e;return(0,c.Jh)(this,function(n){switch(n.label){case 0:return[4,t.request("/auth/logout",{method:"POST"})];case 1:return e=n.sent(),t.clearToken(),[2,e]}})})()},e.logoutAll=function(){var t=this;return(0,s._)(function(){var e;return(0,c.Jh)(this,function(n){switch(n.label){case 0:return[4,t.request("/auth/logout-all",{method:"POST"})];case 1:return e=n.sent(),t.clearToken(),[2,e]}})})()},e.forgotPassword=function(t){var e=this;return(0,s._)(function(){return(0,c.Jh)(this,function(n){return[2,e.request("/auth/forgot-password",{method:"POST",body:JSON.stringify(t)})]})})()},e.getCurrentUser=function(){var t=this;return(0,s._)(function(){return(0,c.Jh)(this,function(e){return[2,t.request("/auth/me")]})})()},e.updateProfile=function(t){var e=this;return(0,s._)(function(){return(0,c.Jh)(this,function(n){return[2,e.request("/auth/profile",{method:"PATCH",body:JSON.stringify(t)})]})})()},e.changePassword=function(t){var e=this;return(0,s._)(function(){return(0,c.Jh)(this,function(n){return[2,e.request("/auth/change-password",{method:"PATCH",body:JSON.stringify(t)})]})})()},e.checkAuthStatus=function(){var t=this;return(0,s._)(function(){return(0,c.Jh)(this,function(e){return[2,t.request("/auth/status")]})})()},e.refreshToken=function(){var t=this;return(0,s._)(function(){var e,n,r,s;return(0,c.Jh)(this,function(o){switch(o.label){case 0:if(!(r=t.getCookie("refreshToken")))return[2,{success:!1,message:"No refresh token available"}];return[4,t.request("/auth/refresh",{method:"POST",body:JSON.stringify({refreshToken:r})})];case 1:return(s=o.sent()).success&&(null===(n=s.data)||void 0===n?void 0:null===(e=n.tokens)||void 0===e?void 0:e.accessToken)&&t.setToken(s.data.tokens.accessToken),[2,s]}})})()},e.validatePassword=function(t){var e=this;return(0,s._)(function(){return(0,c.Jh)(this,function(n){return[2,e.request("/auth/validate-password",{method:"POST",body:JSON.stringify({password:t})})]})})()},e.getMenuItems=function(){var t=this;return(0,s._)(function(){return(0,c.Jh)(this,function(e){return[2,t.request("/menu/items")]})})()},e.getMenuByDate=function(t){var e=this;return(0,s._)(function(){return(0,c.Jh)(this,function(n){return[2,e.request("/menu/daily?date=".concat(encodeURIComponent(t)))]})})()},e.getOrders=function(){var t=this;return(0,s._)(function(){return(0,c.Jh)(this,function(e){return[2,t.request("/orders")]})})()},e.createOrder=function(t){var e=this;return(0,s._)(function(){return(0,c.Jh)(this,function(n){return[2,e.request("/orders",{method:"POST",body:JSON.stringify(t)})]})})()},e.getOrderById=function(t){var e=this;return(0,s._)(function(){return(0,c.Jh)(this,function(n){return[2,e.request("/orders/".concat(t))]})})()},e.updateOrderStatus=function(t,e){var n=this;return(0,s._)(function(){return(0,c.Jh)(this,function(r){return[2,n.request("/orders/".concat(t,"/status"),{method:"PATCH",body:JSON.stringify({status:e})})]})})()},e.processPayment=function(t){var e=this;return(0,s._)(function(){return(0,c.Jh)(this,function(n){return[2,e.request("/payments/process",{method:"POST",body:JSON.stringify(t)})]})})()},e.getPaymentHistory=function(){var t=this;return(0,s._)(function(){return(0,c.Jh)(this,function(e){return[2,t.request("/payments/history")]})})()},e.getKitchenOrders=function(){var t=this;return(0,s._)(function(){return(0,c.Jh)(this,function(e){return[2,t.request("/kitchen/orders")]})})()},e.updateKitchenOrderStatus=function(t,e){var n=this;return(0,s._)(function(){return(0,c.Jh)(this,function(r){return[2,n.request("/kitchen/orders/".concat(t),{method:"PATCH",body:JSON.stringify({status:e})})]})})()},e.getUsers=function(){var t=this;return(0,s._)(function(){return(0,c.Jh)(this,function(e){return[2,t.request("/admin/users")]})})()},e.updateUserRole=function(t,e){var n=this;return(0,s._)(function(){return(0,c.Jh)(this,function(r){return[2,n.request("/admin/users/".concat(t,"/role"),{method:"PATCH",body:JSON.stringify({role:e})})]})})()},e.getSystemStats=function(){var t=this;return(0,s._)(function(){return(0,c.Jh)(this,function(e){return[2,t.request("/admin/stats")]})})()},t}()),h=a.request;a.request=(r=(0,s._)(function(t){var e,n,r,s=arguments;return(0,c.Jh)(this,function(o){switch(o.label){case 0:return e=s.length>1&&void 0!==s[1]?s[1]:{},[4,h.call(this,t,e)];case 1:if(!(!(r=o.sent()).success&&(null===(n=r.error)||void 0===n?void 0:n.includes("401")))||!localStorage.getItem("refreshToken"))return[3,3];return[4,this.refreshToken()];case 2:if(o.sent().success)return[2,h.call(this,t,e)];o.label=3;case 3:return[2,r]}})}),function(t){return r.apply(this,arguments)}),e.ZP=a},22703:function(t,e,n){n.d(e,{cn:function(){return o}});var r=n(57042),s=n(74769);function o(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,s.m6)((0,r.W)(e))}}}]);