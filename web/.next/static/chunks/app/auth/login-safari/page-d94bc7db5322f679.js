(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5754],{59232:function(e,r,n){Promise.resolve().then(n.bind(n,13330))},13330:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return f}});var a=n(45610),t=n(97142),o=n(50044),s=n(57437),u=n(2265),i=n(24033),c=n(75157),l=n(73043),d=n(26755);function h(e){return({admin:"/dashboard/admin",teacher:"/dashboard/teacher",parent:"/dashboard/parent",student:"/dashboard/student",vendor:"/dashboard/vendor",kitchen_staff:"/dashboard/kitchen",school_admin:"/dashboard/school-admin"})[e]||"/dashboard"}function f(){var e,r,n=(0,t._)((0,u.useState)(!1),2),f=n[0],m=n[1],p=(0,t._)((0,u.useState)(null),2),b=p[0],g=p[1],S=(0,d.useAuth)(),_=S.login;S.user;var v=(0,i.useRouter)(),w=(e=(0,a._)(function(e){return(0,o.Jh)(this,function(r){switch(r.label){case 0:m(!0),g(null),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,_({email:e.email,password:e.password,role:e.role,rememberMe:e.rememberMe||!1})];case 2:return r.sent()?setTimeout(function(){try{var r=localStorage.getItem("demoUser");if(r){var n=JSON.parse(r),a=h(n.role);v.push(a);return}}catch(e){}var t=h(e.role);v.push(t)},100):g("Invalid email or password. Please try again."),[3,5];case 3:return g(r.sent().message||"An unexpected error occurred. Please try again."),[3,5];case 4:return m(!1),[7];case 5:return[2]}})}),function(r){return e.apply(this,arguments)}),k=(r=(0,a._)(function(e){return(0,o.Jh)(this,function(e){return g(null),g("Social login is coming soon!"),[2]})}),function(e){return r.apply(this,arguments)});return(0,s.jsx)(l.AuthLayout,{title:"Welcome Back to HASIVU (Safari)",description:"Safari-compatible login for school meal account",children:(0,s.jsx)(c.U,{onSubmit:w,onSocialLogin:k,isLoading:f,error:b,className:"w-full max-w-md",showRoleSelection:!1,defaultRole:"student",showSocialLogin:!1})})}}},function(e){e.O(0,[7895,8293,7554,8140,8653,6430,6755,5810,3043,5157,2971,596,1744],function(){return e(e.s=59232)}),_N_E=e.O()}]);