"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7513],{7513:function(e,n,t){t.r(n),t.d(n,{SafariCompatibleLoginForm:function(){return E}});var r=t(45610),a=t(21575),s=t(41369),l=t(43654),i=t(97142),o=t(50044),u=t(57437),c=t(2265),d=t(98864),f=t.n(d),m=t(42812);f()(function(){return Promise.resolve().then(t.bind(t,64992)).then(function(e){return{default:e.Form}})},{loadableGenerated:{webpack:function(){return[64992]}},ssr:!1,loading:function(){return(0,u.jsx)("div",{className:"animate-pulse",children:"Loading form..."})}}),f()(function(){return Promise.resolve().then(t.bind(t,64992)).then(function(e){return{default:e.FormField}})},{loadableGenerated:{webpack:function(){return[64992]}},ssr:!1}),f()(function(){return Promise.resolve().then(t.bind(t,64992)).then(function(e){return{default:e.FormItem}})},{loadableGenerated:{webpack:function(){return[64992]}},ssr:!1}),f()(function(){return Promise.resolve().then(t.bind(t,64992)).then(function(e){return{default:e.FormLabel}})},{loadableGenerated:{webpack:function(){return[64992]}},ssr:!1}),f()(function(){return Promise.resolve().then(t.bind(t,64992)).then(function(e){return{default:e.FormControl}})},{loadableGenerated:{webpack:function(){return[64992]}},ssr:!1}),f()(function(){return Promise.resolve().then(t.bind(t,64992)).then(function(e){return{default:e.FormMessage}})},{loadableGenerated:{webpack:function(){return[64992]}},ssr:!1});var b=f()(function(){return Promise.resolve().then(t.bind(t,93695)).then(function(e){return{default:e.Input}})},{loadableGenerated:{webpack:function(){return[93695]}},ssr:!1}),h=f()(function(){return Promise.resolve().then(t.bind(t,93378)).then(function(e){return{default:e.Button}})},{loadableGenerated:{webpack:function(){return[93378]}},ssr:!1}),p=f()(function(){return Promise.resolve().then(t.bind(t,19690)).then(function(e){return{default:e.Tabs}})},{loadableGenerated:{webpack:function(){return[19690]}},ssr:!1}),x=f()(function(){return Promise.resolve().then(t.bind(t,19690)).then(function(e){return{default:e.TabsList}})},{loadableGenerated:{webpack:function(){return[19690]}},ssr:!1}),v=f()(function(){return Promise.resolve().then(t.bind(t,19690)).then(function(e){return{default:e.TabsTrigger}})},{loadableGenerated:{webpack:function(){return[19690]}},ssr:!1}),w=f()(function(){return Promise.all([t.e(7279),t.e(5185)]).then(t.bind(t,86733)).then(function(e){return{default:e.Mail}})},{loadableGenerated:{webpack:function(){return[86733]}},ssr:!1}),g=f()(function(){return Promise.all([t.e(7279),t.e(5185)]).then(t.bind(t,86733)).then(function(e){return{default:e.Lock}})},{loadableGenerated:{webpack:function(){return[86733]}},ssr:!1}),j=f()(function(){return Promise.all([t.e(7279),t.e(5185)]).then(t.bind(t,86733)).then(function(e){return{default:e.Eye}})},{loadableGenerated:{webpack:function(){return[86733]}},ssr:!1}),N=f()(function(){return Promise.all([t.e(7279),t.e(5185)]).then(t.bind(t,86733)).then(function(e){return{default:e.EyeOff}})},{loadableGenerated:{webpack:function(){return[86733]}},ssr:!1}),k=f()(function(){return Promise.all([t.e(7279),t.e(5185)]).then(t.bind(t,86733)).then(function(e){return{default:e.Crown}})},{loadableGenerated:{webpack:function(){return[86733]}},ssr:!1}),y=f()(function(){return Promise.all([t.e(7279),t.e(5185)]).then(t.bind(t,86733)).then(function(e){return{default:e.School}})},{loadableGenerated:{webpack:function(){return[86733]}},ssr:!1}),C=f()(function(){return Promise.all([t.e(7279),t.e(5185)]).then(t.bind(t,86733)).then(function(e){return{default:e.UserCheck}})},{loadableGenerated:{webpack:function(){return[86733]}},ssr:!1}),G=f()(function(){return Promise.all([t.e(7279),t.e(5185)]).then(t.bind(t,86733)).then(function(e){return{default:e.Users}})},{loadableGenerated:{webpack:function(){return[86733]}},ssr:!1}),P=f()(function(){return Promise.all([t.e(7279),t.e(5185)]).then(t.bind(t,86733)).then(function(e){return{default:e.GraduationCap}})},{loadableGenerated:{webpack:function(){return[86733]}},ssr:!1}),S=f()(function(){return Promise.all([t.e(7279),t.e(5185)]).then(t.bind(t,86733)).then(function(e){return{default:e.Store}})},{loadableGenerated:{webpack:function(){return[86733]}},ssr:!1}),_=f()(function(){return Promise.all([t.e(7279),t.e(5185)]).then(t.bind(t,86733)).then(function(e){return{default:e.ChefHat}})},{loadableGenerated:{webpack:function(){return[86733]}},ssr:!1});function E(e){var n,t=e.onSubmit,d=e.onSocialLogin,f=e.isLoading,E=void 0!==f&&f,F=e.error,M=void 0===F?null:F,T=e.showRememberMe,H=e.showSocialLogin,L=e.showRoleSelection,R=e.defaultRole,O=void 0===R?m.i4.STUDENT:R,z=e.className,A=(0,i._)((0,c.useState)(!1),2),D=A[0],I=A[1],U=(0,i._)((0,c.useState)(O),2),V=U[0],B=U[1],J=(0,i._)((0,c.useState)(!1),2),K=J[0],W=J[1],Y=(0,i._)((0,c.useState)({email:"",password:"",rememberMe:!1}),2),q=Y[0],Q=Y[1];(0,c.useEffect)(function(){I(!0)},[]);var X=(n=(0,r._)(function(e){return(0,o.Jh)(this,function(n){switch(n.label){case 0:return e.preventDefault(),[4,t((0,l._)((0,s._)({},q),{role:V}))];case 1:return n.sent(),[2]}})}),function(e){return n.apply(this,arguments)}),Z=function(e,n){Q(function(t){return(0,l._)((0,s._)({},t),(0,a._)({},e,n))})};return D?(0,u.jsxs)("div",{className:"w-full max-w-md space-y-8 ".concat(void 0===z?"":z),suppressHydrationWarning:!0,children:[M&&(0,u.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-md",children:M}),(void 0===L||L)&&(0,u.jsxs)("div",{className:"mb-6",children:[(0,u.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-3 block",children:"Select Your Role"}),(0,u.jsx)(p,{value:V,onValueChange:function(e){return B(e)},className:"w-full",children:(0,u.jsx)(x,{className:"grid w-full grid-cols-5 mb-4","data-testid":"role-selector",children:Object.entries(m.USER_ROLE_CONFIG).map(function(e){var n=(0,i._)(e,2),t=n[0],r=n[1],a=k;return t===m.i4.SCHOOL_ADMIN?a=y:t===m.i4.TEACHER?a=C:t===m.i4.PARENT?a=G:t===m.i4.STUDENT?a=P:t===m.i4.VENDOR?a=S:t===m.i4.KITCHEN_STAFF&&(a=_),(0,u.jsxs)(v,{value:t,"data-testid":"role-tab-".concat(t),className:"flex flex-col items-center gap-1 p-3 text-xs","aria-selected":V===t,children:[(0,u.jsx)(a,{className:"h-4 w-4"}),r.label]},t)})})})]}),(0,u.jsxs)("form",{onSubmit:X,className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"text-gray-700",children:"Email Address"}),(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsx)(w,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,u.jsx)(b,{"data-testid":"email-input",type:"email",placeholder:"you@example.com",className:"pl-10",value:q.email,onChange:function(e){return Z("email",e.target.value)},disabled:E,autoComplete:"email"})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"text-gray-700",children:"Password"}),(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsx)(g,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,u.jsx)(b,{"data-testid":"password-input",type:K?"text":"password",placeholder:"Enter your password",className:"pl-10 pr-10",value:q.password,onChange:function(e){return Z("password",e.target.value)},disabled:E,autoComplete:"current-password"}),(0,u.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:function(){return W(!K)},children:K?(0,u.jsx)(N,{className:"h-4 w-4"}):(0,u.jsx)(j,{className:"h-4 w-4"})})]})]}),(void 0===T||T)&&(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)("input",{id:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:q.rememberMe,onChange:function(e){return Z("rememberMe",e.target.checked)}}),(0,u.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),(0,u.jsx)(h,{type:"submit","data-testid":"login-button",className:"w-full",disabled:E||!q.email||!q.password,children:E?"Signing in...":"Sign in"}),(void 0===H||H)&&d&&(0,u.jsxs)("div",{className:"mt-6",children:[(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,u.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,u.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,u.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),(0,u.jsxs)("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[(0,u.jsxs)(h,{type:"button",variant:"outline",onClick:function(){return d("google")},disabled:E,children:[(0,u.jsxs)("svg",{className:"h-4 w-4 mr-2",viewBox:"0 0 24 24",children:[(0,u.jsx)("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,u.jsx)("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,u.jsx)("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,u.jsx)("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),(0,u.jsxs)(h,{type:"button",variant:"outline",onClick:function(){return d("facebook")},disabled:E,children:[(0,u.jsx)("svg",{className:"h-4 w-4 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:(0,u.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Facebook"]})]})]})]})]}):(0,u.jsx)("div",{className:"w-full max-w-md space-y-8 p-6",children:(0,u.jsxs)("div",{className:"animate-pulse",children:[(0,u.jsx)("div",{className:"h-8 bg-gray-200 rounded mb-4"}),(0,u.jsx)("div",{className:"h-12 bg-gray-200 rounded mb-4"}),(0,u.jsx)("div",{className:"h-12 bg-gray-200 rounded mb-4"}),(0,u.jsx)("div",{className:"h-12 bg-gray-200 rounded"})]})})}}}]);