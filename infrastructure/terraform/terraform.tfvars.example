# HASIVU Platform - Terraform Variables Example
# Copy this file to terraform.tfvars and update with your values
# Generated by SuperClaude Wave 1: Infrastructure Foundation

# =====================================================
# GENERAL CONFIGURATION
# =====================================================

project_name = "hasivu"
environment  = "dev"  # Options: dev, staging, production
aws_region   = "ap-south-1"

# =====================================================
# NETWORKING CONFIGURATION
# =====================================================

vpc_cidr = "10.0.0.0/16"

public_subnet_cidrs = [
  "10.0.1.0/24",
  "10.0.2.0/24"
]

private_subnet_cidrs = [
  "10.0.10.0/24",
  "10.0.20.0/24"
]

database_subnet_cidrs = [
  "10.0.30.0/24",
  "10.0.40.0/24"
]

# =====================================================
# DATABASE CONFIGURATION
# =====================================================

database_name     = "hasivu_platform"
database_username = "hasivu_admin"

# Development settings
rds_instance_class        = "db.t3.medium"
rds_allocated_storage     = 100
rds_max_allocated_storage = 1000
rds_backup_retention_period = 7
rds_multi_az             = false
rds_deletion_protection  = false

# Production settings (uncomment for production)
# rds_instance_class        = "db.r5.large"
# rds_allocated_storage     = 500
# rds_max_allocated_storage = 5000
# rds_backup_retention_period = 30
# rds_multi_az             = true
# rds_deletion_protection  = true

# =====================================================
# REDIS CONFIGURATION
# =====================================================

# Development settings
redis_node_type          = "cache.t3.micro"
redis_num_cache_clusters = 1
redis_automatic_failover = false
redis_multi_az          = false

# Production settings (uncomment for production)
# redis_node_type          = "cache.r5.large"
# redis_num_cache_clusters = 2
# redis_automatic_failover = true
# redis_multi_az          = true

# =====================================================
# CONTAINER CONFIGURATION
# =====================================================

# Development settings
ecs_task_cpu       = 512
ecs_task_memory    = 1024
ecs_desired_count  = 2
ecs_max_capacity   = 5
ecs_min_capacity   = 1

# Production settings (uncomment for production)
# ecs_task_cpu       = 2048
# ecs_task_memory    = 4096
# ecs_desired_count  = 4
# ecs_max_capacity   = 20
# ecs_min_capacity   = 2

# =====================================================
# APPLICATION CONFIGURATION
# =====================================================

app_port                         = 3000
health_check_path               = "/health"
health_check_interval           = 30
health_check_timeout            = 5
health_check_healthy_threshold  = 2
health_check_unhealthy_threshold = 3

# =====================================================
# MONITORING CONFIGURATION
# =====================================================

log_retention_days                       = 7  # 30 for production
enable_performance_insights              = true
performance_insights_retention_period    = 7  # 731 for production

# =====================================================
# SSL/TLS CONFIGURATION
# =====================================================

# domain_name      = "api.hasivu.com"  # Set your domain
# certificate_arn  = "arn:aws:acm:ap-south-1:123456789012:certificate/12345678-1234-1234-1234-123456789012"
enable_ssl_redirect = true

# =====================================================
# BACKUP AND DISASTER RECOVERY
# =====================================================

enable_cross_region_backup = false  # true for production
backup_region             = "ap-southeast-1"
point_in_time_recovery    = true

# =====================================================
# COST OPTIMIZATION
# =====================================================

enable_spot_instances      = false  # true for dev/staging to save costs
spot_allocation_strategy   = "diversified"

# =====================================================
# NOTIFICATION CONFIGURATION
# =====================================================

# notification_email = "alerts@yourcompany.com"
# slack_webhook_url = "https://hooks.slack.com/services/..."  # Keep this secret

# =====================================================
# SECURITY CONFIGURATION
# =====================================================

enable_waf                    = true
allowed_cidr_blocks          = ["0.0.0.0/0"]  # Restrict in production
enable_deletion_protection   = false  # true for production
enable_encryption_at_rest    = true
enable_encryption_in_transit = true

# =====================================================
# FEATURE FLAGS
# =====================================================

enable_blue_green_deployment = false
enable_canary_deployment     = false
enable_auto_scaling          = true
enable_scheduled_scaling     = false

# =====================================================
# DEVELOPMENT CONFIGURATION
# =====================================================

enable_ssh_access   = false  # true for development environments
# ssh_key_name       = "hasivu-dev-key"
enable_debug_logging = false  # true for development

# =====================================================
# EXTERNAL INTEGRATIONS (Keep these secret)
# =====================================================

# razorpay_webhook_secret = "your_razorpay_webhook_secret"
# whatsapp_api_token     = "your_whatsapp_business_api_token"
# fcm_server_key         = "your_firebase_cloud_messaging_key"
# sendgrid_api_key       = "your_sendgrid_api_key"

# =====================================================
# TAGS CONFIGURATION
# =====================================================

additional_tags = {
  "Owner"       = "Platform Team"
  "CostCenter"  = "Engineering"
  "ProjectType" = "School Food Service Platform"
  "Compliance"  = "GDPR,SOC2"
}

cost_center = "engineering"
owner       = "platform-team"

# =====================================================
# ENVIRONMENT-SPECIFIC OVERRIDES
# =====================================================

# For Development Environment:
# - Smaller instance sizes
# - Single AZ deployment
# - Shorter retention periods
# - Spot instances enabled
# - SSH access enabled
# - Debug logging enabled

# For Staging Environment:
# - Medium instance sizes
# - Multi-AZ for critical services
# - Medium retention periods
# - Production-like configuration
# - Limited external access

# For Production Environment:
# - Large instance sizes
# - Multi-AZ deployment everywhere
# - Long retention periods
# - High availability configuration
# - Strict security settings
# - Deletion protection enabled
# - Comprehensive monitoring
# - Cross-region backups

# =====================================================
# TERRAFORM BACKEND CONFIGURATION
# =====================================================

# Configure in backend.tf or via CLI:
# terraform init -backend-config="bucket=hasivu-terraform-state-prod"